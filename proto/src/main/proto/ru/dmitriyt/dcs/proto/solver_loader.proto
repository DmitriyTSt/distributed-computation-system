syntax = "proto3";
package ru.dmitriyt.dcs.proto;
option java_outer_classname = "SolverLoaderProto";
option java_package = "ru.dmitriyt.dcs.proto";

service SolverLoader {
  // Скачать джарник для решения задачи GetSolverRequest.solver_id
  rpc GetSolver(GetSolverRequest) returns (stream GetSolverResponse);
  // Получить текущий идентификатор задачи, запущенной на сервере
  rpc GetCurrentSolverId(GetCurrentSolverIdRequest) returns (GetCurrentSolverIdResponse);
}

message GetSolverRequest {
  string solver_id = 1;
}

message GetSolverResponse {
  bytes data = 1;
}

message GetCurrentSolverIdRequest {}

message GetCurrentSolverIdResponse {
  string solver_id = 1;
}